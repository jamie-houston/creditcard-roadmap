"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1977],{11596:(e,t,r)=>{r.d(t,{t:()=>l});var o=r(67198),n=r(86111),a=r(79807),i=new WeakMap;class l{getStorageMode(){if((0,o._)(this,i))return(0,o._)(this,i);try{localStorage.length,(0,a._)(this,i,"localStorage")}catch(e){try{sessionStorage.length,(0,a._)(this,i,"sessionStorage")}catch(e){(0,a._)(this,i,"backupStorage")}}return(0,o._)(this,i)}setItem(e,t){switch(this.getStorageMode()){case"localStorage":localStorage.setItem(e,t);break;case"sessionStorage":sessionStorage.setItem(e,t);break;case"backupStorage":this.backupStorage[e]=t}}getItem(e){switch(this.getStorageMode()){case"localStorage":return localStorage.getItem(e);case"sessionStorage":return sessionStorage.getItem(e);case"backupStorage":return this.backupStorage[e]||null}return null}constructor(){(0,n._)(this,i,{writable:!0,value:void 0}),this.backupStorage={}}}},18791:(e,t,r)=>{r.d(t,{CX:()=>o,H9:()=>a,r2:()=>n});var o=function(e){return e.FETCH_ERROR="approval_odds_fetch_error",e.INVALID_VALUE="approval_odds_invalid_value",e.CREDIT_SCORE_PROCESSING="approval_odds_credit_score_processing",e.CONTEXT_ERROR="approval_odds_context_error",e}({}),n=function(e){return e.FETCH_ERROR="identity_fetch_error",e}({});let a={APPROVAL_ODDS:"approval_odds",CREDIT_SCORE:"credit_score"}},23650:(e,t,r)=>{r.d(t,{IdentityProvider:()=>s,X:()=>c});var o=r(54568),n=r(49085),a=r(7620),i=r(35652);let l=(0,a.createContext)(null),s=e=>{let{children:t}=e,{loading:r,identity:n,identityId:a,isNWPlusMember:s,isLoggedIn:c,refetching:_,sheaId:u,email:d}=(0,i.U)();return(0,o.jsx)(l.Provider,{value:{isLoading:r,isNWPlusMember:s,email:d,identity:n,identityId:a,isLoggedIn:c,isRefetching:_,sheaId:u},children:t})},c=()=>(0,n.U7)(l)},35652:(e,t,r)=>{r.d(t,{U:()=>L});var o=r(37932),n=r(67933),a=r(67564),i=r(78803),l=r(46590),s=r(33005);class c extends Error{constructor(e,t){super(e),this.name="RequestError",this.response=t,Error.captureStackTrace(this,c)}}class _ extends Error{constructor(e,t){super(e,t),this.name="GraphQLClientError",Error.captureStackTrace(this,_)}}let u=/(googlebot\/|bot|Googlebot-Mobile|Googlebot-Image|Google favicon|Mediapartners-Google|bingbot|slurp|java|wget|curl|Commons-HttpClient|Python-urllib|libwww|httpunit|nutch|phpcrawl|msnbot|jyxobot|FAST-WebCrawler|FAST Enterprise Crawler|biglotron|teoma|convera|seekbot|gigablast|exabot|ngbot|ia_archiver|GingerCrawler|webmon |httrack|webcrawler|grub.org|UsineNouvelleCrawler|antibot|netresearchserver|speedy|fluffy|bibnum.bnf|findlink|msrbot|panscient|yacybot|AISearchBot|IOI|ips-agent|tagoobot|MJ12bot|dotbot|woriobot|yanga|buzzbot|mlbot|yandexbot|purebot|Linguee Bot|Voyager|CyberPatrol|voilabot|baiduspider|citeseerxbot|spbot|twengabot|postrank|turnitinbot|scribdbot|page2rss|sitebot|linkdex|Adidxbot|blekkobot|ezooms|dotbot|Mail.RU_Bot|discobot|heritrix|findthatfile|europarchive.org|NerdByNature.Bot|sistrix crawler|ahrefsbot|Aboundex|domaincrawler|wbsearchbot|summify|ccbot|edisterbot|seznambot|ec2linkfinder|gslfbot|aihitbot|intelium_bot|facebookexternalhit|yeti|RetrevoPageAnalyzer|lb-spider|sogou|lssbot|careerbot|wotbox|wocbot|ichiro|DuckDuckBot|lssrocketcrawler|drupact|webcompanycrawler|acoonbot|openindexspider|gnam gnam spider|web-archive-net.com.bot|backlinkcrawler|coccoc|integromedb|content crawler spider|toplistbot|seokicks-robot|it2media-domain-crawler|ip-web-crawler.com|siteexplorer.info|elisabot|proximic|changedetection|blexbot|arabot|WeSEE:Search|niki-bot|CrystalSemanticsBot|rogerbot|360Spider|psbot|InterfaxScanBot|Lipperhey SEO Service|CC Metadata Scaper|g00g1e.net|GrapeshotCrawler|urlappendbot|brainobot|fr-crawler|binlar|SimpleCrawler|Livelapbot|Twitterbot|cXensebot|smtbot|bnf.fr_bot|A6-Indexer|ADmantX|Facebot|Twitterbot|OrangeBot|memorybot|AdvBot|MegaIndex|SemanticScholarBot|ltx71|nerdybot|xovibot|BUbiNG|Qwantify|archive.org_bot|Applebot|TweetmemeBot|crawler4j|findxbot|SemrushBot|yoozBot|lipperhey|y!j-asr|Domain Re-Animator Bot|AddThis)/i,d=[()=>{var e;let t=null==(e=navigator)?void 0:e.userAgent;return!u.test(t)},e=>{var t;return(null==(t=e.extensions)?void 0:t.code)!=="AUTHENTICATION_ERROR"},e=>{var t;return!(e.path&&e.path.includes("identity"))||(null==(t=e.extensions)?void 0:t.code)!=="NOT_FOUND_ERROR"}];class E{async request(e,t,r){var o,n,a,i,l,u,E;let{url:p,headers:g={},logger:b}=this.config,I=crypto.randomUUID();null==b||null==(o=b.trace)||o.call(b,{nw_request_id:I},"Making request to ".concat(p));try{let o={};if("string"!=typeof e){for(let t of e.definitions)if(t.kind===s.b.OPERATION_DEFINITION){let e=null==t||null==(i=t.name)?void 0:i.value;e&&(o={operationName:e})}}let l=JSON.stringify({query:"string"==typeof e?e:null==(n=e.loc)?void 0:n.source.body,variables:t,...o}),_=await fetch(p,{method:"POST",body:l,headers:{"x-request-id":I,...g},credentials:"include",...r});if(!_.ok)throw new c("Status code: ".concat(_.status," ").concat(_.statusText),_);null==b||null==(a=b.trace)||a.call(b,{nw_request_id:I},"Received response with status code: ".concat(_.status));let u=await _.clone().json();if(u.errors){let e=d.reduce((e,t)=>e.filter(t),u.errors||[]);if(e.length>0)throw new c("GraphQL errors: ".concat(e.map(e=>e.message).join(", ")),_)}return u}catch(e){if(e instanceof Error&&"AbortError"===e.name)throw null==b||null==(u=b.trace)||u.call(b,{nw_request_id:I,error:e},"Request was aborted"),new _("Request was aborted",{cause:e});if(e instanceof c&&"RequestError"===e.name&&e.response){let t=await e.response.json(),r=d.reduce((e,t)=>e.filter(t),t.errors||[]).map(e=>({extensions:e.extensions,message:e.message}));throw r.length>0&&(null==b||null==(E=b.error)||E.call(b,{nw_request_id:I,flatErrors:r},"Request failed with: ".concat(e.message))),delete e.response,new _("Failed to request GraphQL API. ".concat(e.message),{cause:e instanceof Error?e:void 0})}throw null==b||null==(l=b.error)||l.call(b,{nw_request_id:I,error:e},"[Uncaught] Request failed with: ".concat(e.message)),new _("Failed to request GraphQL API. ".concat(e.message),{cause:e instanceof Error?e:void 0})}}query(e,t,r){return this.request(e,t,r)}mutation(e,t,r){return this.request(e,t,r)}constructor(e){this.config=e}}var p=r(50378),g=r(24546),b=r(43343);function I(){let e=(0,l._)(["\n  query UserIsLoggedIn {\n    identity: tuCreditReport {\n      creditScore: vantageScore3\n      approvalOdds: vantageScore3Bucket\n    }\n    rawIdentity {\n      data\n    }\n  }\n"]);return I=function(){return e},e}let h=b.Ikc({identity:(0,p.h)(b.Ikc({creditScore:b.mee(b.aig()),approvalOdds:(0,p.h)(b.YjP())})),rawIdentity:(0,p.h)(b.Ikc({data:b.Ikc({identity:b.Ikc({id:(0,p.h)(b.YjP()),is_nerdwallet_plus_member:b.cl6(b.zMY(),!1),roles:b.cl6(b.YOg(b.YjP()),[]),shea_id:(0,p.h)(b.YjP()),email:(0,p.h)(b.YjP())})})}))}),P=(0,g.J1)(I());async function C(){let e=function(e){let t,r=("prod"===a._.NEXT_PUBLIC_DEPLOYABLE_ENV?a._.NEXT_PUBLIC_SUPERGRAPH_URL:a._.NEXT_PUBLIC_SUPERGRAPH_STAGE_URL)||"",n={"X-Client-Platform":"web","X-Caller-Client-ID":"cc-shopping-client","GraphQL-Client-Name":"cc-shopping-client",...(t=o.A.get("csrf_token"))?{"X-Header-CSRF-Token":t}:{},...void 0};return n["content-type"]||n["Content-Type"]||(n["Content-Type"]="application/json"),new E({url:r,headers:n,logger:null==e?void 0:e.logger})}(),t=await e.query(P);return b.qgA(h,t.data)}var A=r(18791);let R="dev"===a._.NEXT_PUBLIC_DEPLOYABLE_ENV,L=()=>{var e,t,r,a,l,s,c,_,u,d,E,p,g;let{data:b,isLoading:I,error:h,refetch:P,isRefetching:L}=(0,n.useQuery)({queryKey:["identity"],queryFn:C,...R?{retryOnMount:!1}:{},refetchOnMount:!1,enabled:void 0!==o.A.get("id_token")}),T=!!(null==b||null==(e=b.rawIdentity)?void 0:e.data),v=!!(null==b||null==(a=b.rawIdentity)||null==(r=a.data)||null==(t=r.identity)?void 0:t.is_nerdwallet_plus_member),f=null==b||null==(c=b.rawIdentity)||null==(s=c.data)||null==(l=s.identity)?void 0:l.email,w=null==b||null==(d=b.rawIdentity)||null==(u=d.data)||null==(_=u.identity)?void 0:_.shea_id,S=null==b||null==(g=b.rawIdentity)||null==(p=g.data)||null==(E=p.identity)?void 0:E.id,m=null==b?void 0:b.identity;return h&&i.L.addError(Error("Error fetching identity data",{cause:h}),{errorCategory:A.r2.FETCH_ERROR,affectsFeatures:"".concat(A.H9.APPROVAL_ODDS,",").concat(A.H9.CREDIT_SCORE)}),{error:h,identity:m,identityId:S,isLoggedIn:T,isNWPlusMember:v,email:f,loading:I,refetch:P,refetching:L,sheaId:w}}},49085:(e,t,r)=>{r.d(t,{ki:()=>n,aq:()=>a,xD:()=>l,U7:()=>s});var o=r(7620);function n(){let[e,t]=(0,o.useState)(!1);return(0,o.useEffect)(()=>{"requestIdleCallback"in window?window.requestIdleCallback(()=>{t(!0)}):function(e,t){let r={},o=r.timeout||1,n=performance.now();setTimeout(function(){e({get didTimeout(){return!r.timeout&&performance.now()-n-1>o},timeRemaining:function(){return Math.max(0,1+(performance.now()-n))}})},1)}(()=>{t(!0)})},[]),e}function a(){let e=(0,o.useRef)(!1);return(0,o.useEffect)(()=>(e.current=!0,()=>{e.current=!1}),[]),e.current}var i=r(62942);function l(){var e;let t=(0,i.usePathname)(),r=null==t||null==(e=t.split("/"))?void 0:e.pop();return null!=r?r:""}function s(e){let t=(0,o.useContext)(e);if(t)return t;throw Error("useStrictContext must be used within the corresponding context provider")}},50378:(e,t,r)=>{r.d(t,{h:()=>n});var o=r(43343);function n(e,t){return o.lqM(o.FsL(o.cl6(e,t),o.pdi(e=>null===e?void 0:e)))}},56839:(e,t,r)=>{r.d(t,{I:()=>d,y:()=>E});var o=r(54568),n=r(52386),a=r(7620),i=r(58930),l=r(11596),s=r(81072);class c{get segmentInstance(){return this.analytics}async page(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];this.analytics.page(...t)}async track(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];this.analytics.track(...t)}async identify(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];this.analytics.identify(...t)}constructor(e){this.analytics=e}}class _{get segmentInstance(){return{track:this.track,identify:this.identify,page:this.page}}async page(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];console.log("ANALYTICS PAGE_VIEW",...t)}async track(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];console.log("ANALYTICS TRACK",...t)}async identify(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];console.log("ANALYTICS IDENTIFY",...t)}}var u=r(67564);let d=(0,a.createContext)(void 0),E=e=>{let{deployableName:t,deployableVersion:r,writeKey:E,debug:p=!1,children:g}=e,[b,I]=(0,a.useState)(),h=(0,s.M)(()=>p?new _:new c(n.N.load({writeKey:E,cdnURL:"https://siteusagetools.nerdwallet.com"},{integrations:{"Segment.io":{apiHost:"siteusage.nerdwallet.com/v1",protocol:"https"}},storage:{stores:["cookie","localStorage","memory"]}})),[E,p]);return(0,a.useEffect)(()=>{var e;let t=new l.t,r=new Map(null==(e=document)?void 0:e.cookie.split("; ").map(e=>e.split("=")));if(r.has("cookie_id"))I(r.get("cookie_id"));else{let e=t.getItem("cookie_id");e||(e=(0,i.A)(),t.setItem("cookie_id",e)),I(e)}},[]),(0,o.jsx)(d.Provider,{value:{analytics:h,deployableName:t,deployableVersion:r,deviceId:b,gitSha:u._.NEXT_PUBLIC_VERCEL_GIT_COMMIT_SHA},children:g})}},59024:(e,t,r)=>{r.d(t,{s:()=>a});var o=r(7620),n=r(56839);let a=()=>{let e=(0,o.useContext)(n.I);if(!e)throw Error("useAnalytics hook must used within an AnalyticsProvider");return e}},67564:(e,t,r)=>{r.d(t,{_:()=>l});var o=r(46829),n=r(43343);let a=n.NpB(n.FsL(n.KIO(["prod","stage","local","dev"]),n.pdi(e=>"local"===e?"dev":e)),"dev");var i=r(40459);let l=(0,o.w)({schema:{public:{NEXT_PUBLIC_ABSMARTLY_API_KEY:n.NpB(n.YjP(),""),NEXT_PUBLIC_ABSMARTLY_URL:n.NpB(n.YjP(),""),NEXT_PUBLIC_APPROVAL_ODDS_URL:n.FsL(n.YjP(),n.OZ5()),NEXT_PUBLIC_DD_APP_ID:n.lqM(n.YjP()),NEXT_PUBLIC_DD_CLIENT_TOKEN:n.lqM(n.YjP()),NEXT_PUBLIC_DEPLOYABLE_ENV:a,NEXT_PUBLIC_NW_URL:n.NpB(n.FsL(n.YjP(),n.OZ5("Must be a valid URL")),"https://www.nerdwallet.com/"),NEXT_PUBLIC_SEGMENT_WRITE_KEY:n.NpB(n.YjP(),""),NEXT_PUBLIC_SUPERGRAPH_STAGE_URL:n.lqM(n.FsL(n.YjP(),n.OZ5())),NEXT_PUBLIC_SUPERGRAPH_URL:n.FsL(n.YjP(),n.OZ5()),NEXT_PUBLIC_VERCEL_GIT_COMMIT_SHA:n.NpB(n.YjP(),"")},private:{ASSET_PREFIX:n.NpB(n.YjP(),""),CRON_SECRET:n.NpB(n.YjP(),""),DATADOG_API_KEY:n.NpB(n.YjP(),""),DD_APP_KEY:n.NpB(n.YjP(),""),EDGE_CONFIG_ID:n.NpB(n.YjP(),""),EDGE_CONFIG:n.NpB(n.YjP(),""),GTM_ID:n.YjP(),LOG_LEVEL:n.NpB(n.KIO(["fatal","error","warn","info","debug","trace","silent"]),"info"),NODE_ENV:n.KIO(["production","development","test"]),SECTION_SPECIFIC_ML_CLOUDFRONT_URL:n.FsL(n.YjP(),n.OZ5()),SUPERGRAPH_SCHEMA_URL:n.lqM(n.FsL(n.YjP(),n.OZ5())),VERCEL_API_TOKEN:n.NpB(n.YjP(),""),APP_STORE_REVIEW_FALLBACK_TO_HARDCODED_DATA:n.FsL(n.NpB(n.KIO(["true","false"]),"false"),n.pdi(e=>"true"===e))}},values:{ASSET_PREFIX:i.env.ASSET_PREFIX,CRON_SECRET:i.env.CRON_SECRET,DATADOG_API_KEY:i.env.DATADOG_API_KEY,DD_APP_KEY:i.env.DD_APP_KEY,EDGE_CONFIG_ID:i.env.EDGE_CONFIG_ID,EDGE_CONFIG:i.env.EDGE_CONFIG,GTM_ID:i.env.GTM_ID,LOG_LEVEL:i.env.LOG_LEVEL,NODE_ENV:"production",SECTION_SPECIFIC_ML_CLOUDFRONT_URL:i.env.SECTION_SPECIFIC_ML_CLOUDFRONT_URL,SUPERGRAPH_SCHEMA_URL:i.env.SUPERGRAPH_SCHEMA_URL,VERCEL_API_TOKEN:i.env.VERCEL_API_TOKEN,APP_STORE_REVIEW_FALLBACK_TO_HARDCODED_DATA:i.env.APP_STORE_REVIEW_FALLBACK_TO_HARDCODED_DATA,NEXT_PUBLIC_ABSMARTLY_API_KEY:"-EbqUc6bnDJCHg7mkiCv9jLvqpovgzzNqcPTtna5rb81sAtJoJFE9Br-r8A7EoMM",NEXT_PUBLIC_ABSMARTLY_URL:"https://nerdwallet.absmartly.io/v1",NEXT_PUBLIC_APPROVAL_ODDS_URL:"https://www.nerdwallet.com/api/cards/prod/approvalOdds",NEXT_PUBLIC_DD_APP_ID:"1312b572-8935-44c8-a39c-198af0749581",NEXT_PUBLIC_DD_CLIENT_TOKEN:"pube5cf5772ad75468017496056894cc2f7",NEXT_PUBLIC_DEPLOYABLE_ENV:"prod",NEXT_PUBLIC_NW_URL:"https://www.nerdwallet.com/",NEXT_PUBLIC_SEGMENT_WRITE_KEY:"AsX4m239mTfikxDkznHRm1OPfuJCm0oC",NEXT_PUBLIC_SUPERGRAPH_STAGE_URL:"https://stage.nerdwallet.biz/api/supergraph",NEXT_PUBLIC_SUPERGRAPH_URL:"https://www.nerdwallet.com/api/supergraph",NEXT_PUBLIC_VERCEL_GIT_COMMIT_SHA:"bb29c49fc71c0b2cd7398e5f22788419c237a326"}})},81072:(e,t,r)=>{r.d(t,{M:()=>n});var o=r(7620);function n(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=(0,o.useRef)(!1),n=(0,o.useRef)(null);return n.current||(n.current=e()),(0,o.useEffect)(()=>{r.current?n.current=e():r.current=!0},t),n.current}}}]);